(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"00ed":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-card",{staticClass:"forum-card",attrs:{shadow:"never"}},[o("div",{staticClass:"title-container"},[o("div",[o("h3",{on:{click:function(e){return t.goToPage(t.post)}}},[t._v(t._s(t.post.title)+" ")])]),o("div",{staticClass:"flex-container post-details"},[o("el-button",{staticClass:"category-btn",attrs:{size:"mini",plain:"",type:t.getColor.tag(t.post.category)},on:{click:function(e){return t.callChangeCategory()}}},[t._v(t._s(t.post.category))]),o("div",{staticClass:"align-right"},[o("span",[o("div",{staticClass:"flex-container inline-block"},[o("i",{staticClass:"el-icon-s-comment"}),t._v(" "+t._s(t.comments.length))])])])],1)]),o("div",{staticClass:"time"},[o("p",[t._v(t._s(t.formatDate.full(t.post.timestamp.toDate())))])])])},r=[],s={tag:function(t){return"Marketing"===t?"primary":"Sales"===t?"success":"Consignment"===t?"warning":"danger"}},a=o("3e1f"),i={props:{post:{type:Object,default:function(){}},changeCategory:{type:Function,default:function(){}},fullView:{type:Boolean,default:!0}},data:function(){return{comments:[],getColor:s,formatDate:a["a"]}},beforeMount:function(){this.getComments()},methods:{getComments:function(){var t=this;this.$store.dispatch("getCommentsByPostId",this.post.id).then((function(e){console.log("comments",e),t.comments=e}),(function(e){console.error(e),t.$root.$emit("create-alert",{title:"Something went wrong!",type:"error"})}))},goToPage:function(t){console.log(t),this.$router.push({name:"post",params:{id:t.id}})},isAmongCurrentParticipants:function(){for(var t in this.post.currentParticipants)if(this.post.currentParticipants[t]===this.$store.state.currentUser.uid)return!0;return!1},callChangeCategory:function(){this.$emit("change-category",this.post.category)},joinPost:function(){var t=this;console.log(this.post),this.$store.dispatch("joinPost",this.post).then((function(e){console.log(e),t.$root.$emit("create-alert",{title:"Successfully joined posting!",type:"success"})}),(function(e){console.error(e),t.$root.$emit("create-alert",{title:"Something went wrong!",type:"error"})}))},leavePost:function(){var t=this;this.$store.dispatch("leavePost",this.post).then((function(e){console.log(e),t.$root.$emit("create-alert",{title:"Successfully left posting!",type:"success"})}),(function(e){console.error(e),t.$root.$emit("create-alert",{title:"Something went wrong!",type:"error"})}))}}},l=i,c=o("2877"),u=Object(c["a"])(l,n,r,!1,null,null,null);e["a"]=u.exports},"2fde":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-row",[o("TopBar",{attrs:{name:"Post"}}),o("div",{staticClass:"inner-row"},[o("el-row",{staticClass:"justify-center",attrs:{gutter:10}},[o("el-col",{attrs:{xs:24,sm:14,md:16}},[t.post?o("Post",{attrs:{post:t.post,getPost:t.getPost,comments:t.comments}}):t._e()],1)],1),o("el-row",{staticClass:"justify-center comment-input",attrs:{gutter:10}},[o("el-col",{attrs:{xs:24,sm:14,md:16}},[o("el-card",{attrs:{shadow:"never"}},[o("el-input",{attrs:{placeholder:"Write your comment here"},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}},[o("el-button",{attrs:{slot:"append",icon:"el-icon-s-promotion"},on:{click:function(e){return t.submitComment()}},slot:"append"})],1)],1)],1)],1),o("el-row",{staticClass:"justify-center",attrs:{gutter:10}},[o("el-col",{attrs:{xs:24,sm:14,md:16}},[o("transition-group",{attrs:{name:"list-complete",tag:"div"}},t._l(t.comments,(function(e){return o("Comment",{key:e.id,attrs:{comment:e,getComments:t.getComments}})})),1)],1)],1)],1)],1)},r=[],s=o("5530"),a=o("b043"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-card",{staticClass:"forum-card",attrs:{shadow:"never"}},[o("div",{staticClass:"title-container"},[o("h3",[t._v(t._s(t.post.title))]),o("p",[t._v(t._s(t.post.text))]),o("div",{staticClass:"flex-container post-details"},[o("div",{staticClass:"align-right"},[o("span",[o("div",{staticClass:"flex-container inline-block"},[o("i",{staticClass:"el-icon-s-comment"}),t._v(" "+t._s(t.comments?t.comments.length:0))])])])])]),o("div",{staticClass:"time"},[o("p",[t._v(t._s(t.formatDate.full(t.post.timestamp.toDate())))])])])},l=[],c=o("3e1f"),u={data:function(){return{formatDate:c["a"]}},props:{post:{type:Object,default:function(){}},getPost:{type:Function},comments:{type:Array,default:function(){return[]}}},methods:{isAmongCurrentParticipants:function(){for(var t in this.post.currentParticipants)if(this.post.currentParticipants[t]===this.$store.state.currentUser.uid)return!0;return!1},joinPost:function(){var t=this;console.log(this.post),this.$store.dispatch("joinPost",{id:this.$route.params.id}).then((function(e){t.getPost(),t.$root.$emit("create-alert",{title:"Successfully joined posting!",type:"success"})}),(function(e){console.error(e),t.$root.$emit("create-alert",{title:"Something went wrong!",type:"error"})}))},leavePost:function(){var t=this;this.$store.dispatch("leavePost",{id:this.$route.params.id}).then((function(e){t.getPost(),t.$root.$emit("create-alert",{title:"Successfully left posting!",type:"success"})}),(function(e){console.error(e),t.$root.$emit("create-alert",{title:"Something went wrong!",type:"error"})}))}}},m=u,d=o("2877"),p=Object(d["a"])(m,i,l,!1,null,null,null),f=p.exports,h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-card",{staticClass:"comment-card",attrs:{shadow:"never"}},[o("div",{staticClass:"time"},[o("el-dropdown",{on:{command:t.handleCommand}},[o("span",{staticClass:"el-dropdown-link"},[o("i",{staticClass:"el-icon-more"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.$store.state.currentUser.uid===t.comment.userId?o("el-dropdown-item",{attrs:{command:"delete",icon:"el-icon-delete"}},[t._v("Delete")]):o("el-dropdown-item",{attrs:{command:"report",icon:"el-icon-warning"}},[t._v("Report")])],1)],1)],1),o("h5",[t._v(t._s(t.comment.author))]),o("p",{staticClass:"light-grey"},[t._v(t._s(t.formatDate.full(t.comment.timestamp.toDate())))]),o("p",[t._v(t._s(t.comment.text))])])},g=[],v={data:function(){return{formatDate:c["a"]}},props:{comment:{type:Object,default:function(){}},getComments:{type:Function}},methods:{handleCommand:function(t){"delete"===t?this.deleteComment():"report"===t&&this.sendReport()},deleteComment:function(){var t=this;this.$store.dispatch("deleteComment",this.comment).then((function(e){t.getComments(),t.$root.$emit("create-alert",{title:"Comment deleted!",type:"success"})}),(function(e){console.error(e),t.$root.$emit("create-alert",{title:"Something went wrong!",type:"error"})}))},sendReport:function(){var t=this,e=!1;if(this.comment.reports&&this.comment.reports.length)for(var o in this.comment.reports)if(this.comment.reports[o].userId===this.$store.state.currentUser.uid){e=!0,this.$root.$emit("create-alert",{title:"Comment reported, an Administrator will evaluate the reports as soon as possible!",type:"success"}),console.log("we made it here");break}!1===e&&this.$store.dispatch("reportComment",this.comment).then((function(e){t.$root.$emit("create-alert",{title:"Comment reported, an Administrator will evaluate the reports as soon as possible!",type:"success"})}),(function(e){console.error(e),t.$root.$emit("create-alert",{title:"Something went wrong!",type:"error"})}))}}},y=v,b=Object(d["a"])(y,h,g,!1,null,null,null),C=b.exports,w=o("2f62"),$={components:{TopBar:a["a"],Post:f,Comment:C},computed:Object(s["a"])({},Object(w["b"])(["posts"])),data:function(){return{post:null,comments:null,form:{comment:""}}},beforeMount:function(){this.getPost(),this.getComments()},methods:{getPost:function(){var t=this;this.$store.dispatch("getPostById",this.$route.params.id).then((function(e){console.log(e),t.post=e}),(function(e){console.error(e),t.$root.$emit("create-alert",{title:e.message,type:"error"})}))},getComments:function(){var t=this;this.$store.dispatch("getCommentsByPostId",this.$route.params.id).then((function(e){console.log("comments",e),t.comments=e}),(function(e){console.error(e),t.$root.$emit("create-alert",{title:e.message,type:"error"})}))},submitComment:function(){var t=this,e={comment:this.form.comment,parentId:this.$route.params.id};this.$store.dispatch("createComment",e).then((function(e){console.log(e),t.$root.$emit("create-alert",{title:"Comment submitted!",type:"success"}),t.getComments()}),(function(e){console.error(e),t.$root.$emit("create-alert",{title:e.message,type:"error"})}))}}},_=$,P=Object(d["a"])(_,n,r,!1,null,null,null);e["default"]=P.exports},"3a5e":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"loading-div"},[o("el-row",[o("div",{staticClass:"loader"},[o("div",{staticClass:"flex-container justify-center"},[o("i",{staticClass:"el-icon-loading"})])])])],1)},r=[],s={},a=s,i=o("2877"),l=Object(i["a"])(a,n,r,!1,null,null,null);e["a"]=l.exports},"3e1f":function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));var n=o("c1df"),r=o.n(n),s={full:function(t){return r()(t).format("YYYY-MM-DD HH:mm")}}},5118:function(t,e,o){(function(t){var n="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,r=Function.prototype.apply;function s(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new s(r.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new s(r.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},o("6017"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,o("c8ba"))},6017:function(t,e,o){(function(t,e){(function(t,o){"use strict";if(!t.setImmediate){var n,r=1,s={},a=!1,i=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?p():f()?h():t.MessageChannel?g():i&&"onreadystatechange"in i.createElement("script")?v():y(),l.setImmediate=c,l.clearImmediate=u}function c(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),o=0;o<e.length;o++)e[o]=arguments[o+1];var a={callback:t,args:e};return s[r]=a,n(r),r++}function u(t){delete s[t]}function m(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(o,n);break}}function d(t){if(a)setTimeout(d,0,t);else{var e=s[t];if(e){a=!0;try{m(e)}finally{u(t),a=!1}}}}function p(){n=function(t){e.nextTick((function(){d(t)}))}}function f(){if(t.postMessage&&!t.importScripts){var e=!0,o=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=o,e}}function h(){var e="setImmediate$"+Math.random()+"$",o=function(o){o.source===t&&"string"===typeof o.data&&0===o.data.indexOf(e)&&d(+o.data.slice(e.length))};t.addEventListener?t.addEventListener("message",o,!1):t.attachEvent("onmessage",o),n=function(o){t.postMessage(e+o,"*")}}function g(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;d(e)},n=function(e){t.port2.postMessage(e)}}function v(){var t=i.documentElement;n=function(e){var o=i.createElement("script");o.onreadystatechange=function(){d(e),o.onreadystatechange=null,t.removeChild(o),o=null},t.appendChild(o)}}function y(){n=function(t){setTimeout(d,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,o("c8ba"),o("4362"))},b043:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title"},[o("el-button",{staticClass:"topbar-button hidden-sm-and-up",on:{click:function(e){return t.changeDrawer()}}},[o("i",{staticClass:"el-icon-s-fold"})]),o("h2",[t._v(t._s(t.name))])],1)},r=[],s={props:{name:{type:String}},methods:{changeDrawer:function(){this.$root.$emit("update-drawer")}}},a=s,i=o("2877"),l=Object(i["a"])(a,n,r,!1,null,null,null);e["a"]=l.exports},bd93:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-row",[o("TopBar",{attrs:{name:"Admin Dashboard"}}),o("div",{staticClass:"inner-row"},[o("el-row",{staticClass:"justify-center",attrs:{gutter:10}},[o("el-col",{attrs:{xs:24,sm:24,md:20}},[o("div",{staticClass:"button-container"},[o("el-input",{staticClass:"search-input",attrs:{width:"200",placeholder:"Type to search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("el-button",{on:{click:function(e){t.createPostDialog=!0}}},[t._v("Create Post")])],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.posts.filter((function(e){return!t.search||e.title.toLowerCase().includes(t.search.toLowerCase())}))}},[o("el-table-column",{attrs:{label:"Title",prop:"title"}}),o("el-table-column",{attrs:{label:"Current Participants",prop:"currentParticipants.length"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(" "+t._s(e.row.currentParticipants.length)+" / "+t._s(e.row.totalParticipants)+" ")])]}}])}),o("el-table-column",{attrs:{label:"Status",prop:"status"}}),o("el-table-column",{attrs:{label:"Category",prop:"category"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{staticClass:"category-btn",attrs:{size:"mini",plain:"",type:t.getColor(e.row.category)}},[t._v(t._s(e.row.category))])]}}])}),o("el-table-column",{attrs:{label:"Created",prop:"timestamp"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.row.timestamp.toDate()))+" ")]}}])}),o("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-dropdown",{on:{command:function(o){return t.handleCommand(o,e.$index,e.row)}}},[o("span",{staticClass:"el-dropdown-link"},[o("i",{staticClass:"el-icon-more"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"email",icon:"el-icon-message"}},[t._v("Email participants")]),o("el-dropdown-item",{attrs:{command:"complete",icon:"el-icon-success"}},[t._v("Set to complete")]),o("el-dropdown-item",{attrs:{command:"view",icon:"el-icon-view"}},[t._v("View post")]),o("el-dropdown-item",{attrs:{command:"delete",icon:"el-icon-delete"}},[t._v("Delete post")])],1)],1)]}}])})],1)],1)],1)],1),o("el-dialog",{attrs:{title:"Create Post",visible:t.createPostDialog},on:{"update:visible":function(e){t.createPostDialog=e}}},[o("el-form",{attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"Title"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),o("el-form-item",{attrs:{label:"Text/Description"}},[o("el-input",{attrs:{type:"textarea",rows:3,autocomplete:"off"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1),o("el-form-item",{attrs:{label:"Category"}},[o("el-select",{attrs:{placeholder:"Select"},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}},t._l(t.categories,(function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),o("el-form-item",{attrs:{label:"Number of participants"}},[o("el-input-number",{attrs:{size:"small"},model:{value:t.form.totalParticipants,callback:function(e){t.$set(t.form,"totalParticipants",e)},expression:"form.totalParticipants"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.createPostDialog=!1}}},[t._v("Cancel")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.createPost()}}},[t._v("Save")])],1)],1)],1)},r=[],s=o("5530"),a=o("b043"),i=o("2f62"),l=o("c1df"),c=o.n(l),u={components:{TopBar:a["a"]},computed:Object(s["a"])({},Object(i["b"])(["posts"])),data:function(){return{createPostDialog:!1,categories:[{value:"Marketing",label:"Marketing"},{value:"Consignment",label:"Consignment"},{value:"Sales",label:"Sales"},{value:"Other",label:"Other"}],category:"All-categories",form:{title:"",description:"",totalParticipants:null,category:""},search:""}},beforeMount:function(){this.getPosts()},methods:{getColor:function(t){return"Marketing"===t?"primary":"Sales"===t?"success":"Consignment"===t?"warning":"danger"},formatDate:function(t){return c()(t).format("DD-MM-YYYY HH:mm")},getPosts:function(){this.$store.dispatch("getPosts").then((function(t){console.log(t)}),(function(t){console.error(t)}))},createPost:function(){var t=this;this.$store.dispatch("createPosts",this.form).then((function(e){console.log(e),t.createPostDialog=!1}),(function(t){console.error(t)}))},handleCommand:function(t,e,o){"complete"===t?this.handleCompleted(e,o):"email"===t?this.handleEdit(e,o):"delete"===t?this.handleDelete(e,o):"view"===t&&this.handleView(e,o)},handleDelete:function(t,e){var o=this;console.log("in delete"),this.$store.dispatch("deletePost",e).then((function(t){o.$root.$emit("create-alert",{title:"Post deleted!",type:"success"}),console.log(t)}),(function(t){console.error(t),o.$root.$emit("create-alert",{title:"Something went wrong!",type:"error"})}))},handleEdit:function(t,e){console.log("in edit")},handleCompleted:function(t,e){var o=this;console.log("in complete"),this.$store.dispatch("setPostToCompleted",e).then((function(t){console.log(t),o.$root.$emit("create-alert",{title:"Post status updated!",type:"success"})}),(function(t){console.error(t),o.$root.$emit("create-alert",{title:"Something went wrong!",type:"error"})}))},handleView:function(t,e){this.$router.push({name:"post",params:{id:e.id}}),console.log("in view")}}},m=u,d=o("2877"),p=Object(d["a"])(m,n,r,!1,null,null,null);e["default"]=p.exports},c740:function(t,e,o){"use strict";var n=o("23e7"),r=o("b727").findIndex,s=o("44d2"),a=o("ae40"),i="findIndex",l=!0,c=a(i);i in[]&&Array(1)[i]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!c},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s(i)},ec95:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-row",[o("TopBar",{attrs:{name:"Dashboard"}}),t.loading?o("Loading"):t._e(),o("div",{staticClass:"inner-row"},[o("el-row",{staticClass:"justify-center",attrs:{gutter:10}},[o("el-col",{attrs:{xs:24,sm:14,md:16}},[o("div",{staticClass:"button-container"},[o("el-select",{attrs:{placeholder:"Select Category"},on:{change:function(e){return t.changeQuery()}},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},t._l(t.pageCategories,(function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),o("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.createPostDialog=!0}}},[t._v("Create post")])],1),o("transition-group",{attrs:{name:"list-complete",tag:"div"}},t._l(t.posts,(function(e){return o("div",{key:e.title},[e.category!==t.$route.query.category&&t.$route.query.category&&"All-categories"!==t.$route.query.category?t._e():o("Post",{attrs:{post:e},on:{"change-category":t.changeCategory}})],1)})),0)],1)],1)],1),o("el-dialog",{attrs:{title:"Create Post",visible:t.createPostDialog},on:{"update:visible":function(e){t.createPostDialog=e}}},[o("el-form",{attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"Title"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),o("el-form-item",{attrs:{label:"Text/Description"}},[o("el-input",{attrs:{type:"textarea",rows:3,autocomplete:"off"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1),o("el-form-item",{attrs:{label:"Category"}},[o("el-select",{attrs:{placeholder:"Select"},model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}},t._l(t.categories,(function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.createPostDialog=!1}}},[t._v("Cancel")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.createPost()}}},[t._v("Save")])],1)],1)],1)},r=[],s=o("5530"),a=o("b043"),i=o("00ed"),l=o("3a5e"),c=[{value:"Marketing",label:"Marketing"},{value:"Consignment",label:"Consignment"},{value:"Sales",label:"Sales"},{value:"Other",label:"Other"}],u=[{value:"All-categories",label:"All categories"},{value:"Marketing",label:"Marketing"},{value:"Consignment",label:"Consignment"},{value:"Sales",label:"Sales"},{value:"Other",label:"Other"}],m=o("2f62"),d={components:{TopBar:a["a"],Post:i["a"],Loading:l["a"]},computed:Object(s["a"])({},Object(m["b"])(["posts"])),data:function(){return{createPostDialog:!1,categories:c,pageCategories:u,category:"All-categories",form:{title:"",description:"",totalParticipants:0,category:""},loading:!0}},beforeMount:function(){this.getPosts()},methods:{changeQuery:function(){console.log(this.category),this.$router.push({name:"dashboard",query:{category:this.category}})},changeCategory:function(t){console.log(t),this.category=t,this.changeQuery()},getPosts:function(){var t=this;this.$store.dispatch("getPosts").then((function(e){console.log(e),t.loading=!1}),(function(e){console.error(e),t.$root.$emit("create-alert",{title:e.message,type:"error"})}))},createPost:function(){var t=this;this.$store.dispatch("createPosts",this.form).then((function(e){console.log(e),t.createPostDialog=!1,t.$root.$emit("create-alert",{title:"Post created!",type:"success"})}),(function(e){console.error(e),t.$root.$emit("create-alert",{title:e.message,type:"error"})}))}}},p=d,f=o("2877"),h=Object(f["a"])(p,n,r,!1,null,null,null);e["default"]=h.exports},edf1:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-row",[o("TopBar",{attrs:{name:"Admin Dashboard"}}),o("div",{staticClass:"inner-row"},[o("el-row",{staticClass:"justify-center",attrs:{gutter:10}},[o("el-col",{attrs:{xs:24,sm:24,md:20}},[o("div",{staticClass:"button-container"},[o("el-input",{staticClass:"search-input",attrs:{width:"200",placeholder:"Type to search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.reports.filter((function(e){return!t.search||e.text.toLowerCase().includes(t.search.toLowerCase())}))}},[o("el-table-column",{attrs:{label:"Comment",prop:"text"}}),o("el-table-column",{attrs:{label:"Author",prop:"author"}}),o("el-table-column",{attrs:{label:"Comment created",prop:"timestamp"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.row.timestamp.toDate()))+" ")]}}])}),o("el-table-column",{attrs:{label:"Reports",prop:"reports.length"}}),o("el-table-column",{attrs:{label:"Latest report"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.row.reports[e.row.reports.length-1].timestamp))+" ")]}}])}),o("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-dropdown",{on:{command:function(o){return t.handleCommand(o,e.$index,e.row)}}},[o("span",{staticClass:"el-dropdown-link"},[o("i",{staticClass:"el-icon-more"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"view",icon:"el-icon-view"}},[t._v("View post")]),o("el-dropdown-item",{attrs:{command:"delete",icon:"el-icon-delete"}},[t._v("Delete comment")])],1)],1)]}}])})],1)],1)],1)],1)],1)},r=[],s=o("b043"),a=o("c1df"),i=o.n(a),l={components:{TopBar:s["a"]},data:function(){return{search:"",reports:[]}},beforeMount:function(){this.getReports()},methods:{formatDate:function(t){return i()(t).format("DD-MM-YYYY HH:mm")},getReports:function(){var t=this;this.$store.dispatch("getComments").then((function(e){console.log(e),t.reports=e}),(function(t){console.error(t)}))},handleCommand:function(t,e,o){"delete"===t?this.handleDelete(e,o):"view"===t&&this.handleView(e,o)},handleDelete:function(t,e){var o=this;console.log("in delete"),this.$store.dispatch("deleteComment",e).then((function(t){o.$root.$emit("create-alert",{title:"Comment deleted!",type:"success"}),o.getReports(),console.log(t)}),(function(t){console.error(t),o.$root.$emit("create-alert",{title:"Something went wrong!",type:"error"})}))},handleView:function(t,e){this.$router.push({name:"post",params:{id:e.parentId}}),console.log("in view")}}},c=l,u=o("2877"),m=Object(u["a"])(c,n,r,!1,null,null,null);e["default"]=m.exports},f031:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-row",[o("TopBar",{attrs:{name:"My Conversations"}}),t.loading?o("Loading"):t._e(),o("div",{staticClass:"inner-row"},[o("el-row",{staticClass:"justify-center",attrs:{gutter:10}},[o("el-col",{attrs:{xs:24,sm:14,md:16}},[o("div",{staticClass:"flex-container"},[o("div",{staticClass:"align-right"})]),o("transition-group",{attrs:{name:"list-complete",tag:"div"}},t._l(t.posts,(function(t){return o("Post",{key:t.title,attrs:{post:t,fullView:!1}})})),1),0===t.posts.length&&t.loaded?o("EmptyContent",{attrs:{contentType:"Conversations"}}):t._e()],1)],1)],1)],1)},r=[],s=(o("4de4"),o("c740"),o("b043")),a=o("00ed"),i=o("3a5e"),l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-card",{staticClass:"comment-card",attrs:{shadow:"never"}},[o("div",{staticClass:"title-container empty-container"},[o("h2",[t._v("No "+t._s(t.contentType)+" yet!")]),"Conversations"===t.contentType?o("p",[t._v("Start a conversation in a thread or write a post of your own! Then you'll find your "+t._s(t.contentType)+" here")]):t._e(),"Activities"===t.contentType?o("p",[t._v("On this page you will see the activities you've joined! Create your own event or find one you like on the dashboard")]):t._e()])])},c=[],u={props:{contentType:{type:String,default:""}}},m=u,d=o("2877"),p=Object(d["a"])(m,l,c,!1,null,null,null),f=p.exports,h=o("5118"),g={components:{TopBar:s["a"],Post:a["a"],EmptyContent:f,Loading:i["a"]},data:function(){return{posts:[],loading:!0}},beforeMount:function(){this.getPostsByComments()},methods:{getPostsByComments:function(){var t=this;this.$store.dispatch("getPostsByCommentsFromUserId").then((function(e){Object(h["setTimeout"])((function(){t.sanitizePosts(e)}),500)}),(function(e){console.error(e),t.$root.$emit("create-alert",{title:e.message,type:"error"})}))},sanitizePosts:function(t){var e=t.filter((function(t,e,o){return e===o.findIndex((function(e){return e.id===t.id}))}));this.posts=e,this.loading=!1}}},v=g,y=Object(d["a"])(v,n,r,!1,null,null,null);e["default"]=y.exports}}]);
//# sourceMappingURL=dashboard.38edef82.js.map