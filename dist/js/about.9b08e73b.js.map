{"version":3,"sources":["webpack:///./src/config/validation.js","webpack:///./src/components/TopBar.vue?86ef","webpack:///src/components/TopBar.vue","webpack:///./src/components/TopBar.vue?4287","webpack:///./src/components/TopBar.vue","webpack:///./src/pages/Settings.vue?7b6f","webpack:///src/pages/Settings.vue","webpack:///./src/pages/Settings.vue?ce97","webpack:///./src/pages/Settings.vue"],"names":["rules","name","required","message","trigger","email","type","password","newPassword","min","company","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","changeDrawer","_v","_s","staticRenderFns","props","String","methods","$root","$emit","component","attrs","ref","security","preventDefault","model","value","callback","$$v","$set","expression","changePassword","deleteAccountDialog","slot","deleteAccount","components","TopBar","data","validatePass","Error","form","newPasswordRepeat","$store","dispatch","then","console","log","err","$refs","validate","valid"],"mappings":"yGAAA,sCAAIA,EAAQ,CACVC,KAAM,CACJ,CAAEC,UAAU,EAAMC,QAAS,gBAAiBC,QAAS,SAEvDC,MAAO,CACL,CAAEH,UAAU,EAAMC,QAAS,iBAAkBC,QAAS,QACtD,CAAEE,KAAM,QAASH,QAAS,wBAAyBC,QAAS,CAAC,OAAQ,YAEvEG,SAAU,CACR,CAAEL,UAAU,EAAMC,QAAS,oBAAqBC,QAAS,SAE3DI,YAAa,CACX,CAAEN,UAAU,EAAMC,QAAS,oBAAqBC,QAAS,QACzD,CAAEK,IAAK,EAAGN,QAAS,2CAA4CC,QAAS,SAE1EM,QAAS,CACP,CAAER,UAAU,EAAMC,QAAS,wBAAyBC,QAAS,SAE/DF,SAAU,CACR,CAAEA,UAAU,EAAMC,QAAS,yBAA0BC,QAAS,W,kCCnBlE,IAAIO,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,YAAY,CAACE,YAAY,iCAAiCC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIS,kBAAkB,CAACL,EAAG,IAAI,CAACE,YAAY,qBAAqBF,EAAG,KAAK,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAIX,UAAU,IAClUuB,EAAkB,GCQtB,GACEC,MAAO,CACLxB,KAAM,CACJK,KAAMoB,SAGVC,QAAS,CACPN,aADJ,WAEMR,KAAKe,MAAMC,MAAM,oBCjByT,I,YCO5UC,EAAY,eACd,EACAnB,EACAa,GACA,EACA,KACA,KACA,MAIa,OAAAM,E,kDClBf,IAAInB,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACA,EAAG,SAAS,CAACe,MAAM,CAAC,KAAO,cAAcf,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,SAAS,CAACE,YAAY,eAAea,MAAM,CAAC,GAAK,GAAG,GAAK,GAAG,GAAK,GAAG,GAAK,IAAI,CAACf,EAAG,KAAK,CAACJ,EAAIU,GAAG,cAAcN,EAAG,UAAU,CAACgB,IAAI,OAAOD,MAAM,CAAC,MAAQnB,EAAIZ,MAAM,MAAQY,EAAIqB,UAAUd,GAAG,CAAC,OAAS,SAASC,GAAQA,EAAOc,oBAAqB,CAAClB,EAAG,eAAe,CAACe,MAAM,CAAC,KAAO,gBAAgB,CAACf,EAAG,WAAW,CAACE,YAAY,gBAAgBa,MAAM,CAAC,YAAc,eAAe,KAAO,WAAW,KAAO,eAAeI,MAAM,CAACC,MAAOxB,EAAIqB,SAAoB,YAAEI,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIqB,SAAU,cAAeK,IAAME,WAAW,2BAA2B,GAAGxB,EAAG,eAAe,CAACe,MAAM,CAAC,KAAO,sBAAsB,CAACf,EAAG,WAAW,CAACE,YAAY,gBAAgBa,MAAM,CAAC,YAAc,sBAAsB,KAAO,WAAW,KAAO,qBAAqBI,MAAM,CAACC,MAAOxB,EAAIqB,SAA0B,kBAAEI,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIqB,SAAU,oBAAqBK,IAAME,WAAW,iCAAiC,GAAGxB,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,YAAY,CAACE,YAAY,kBAAkBa,MAAM,CAAC,KAAO,WAAWZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI6B,eAAe,WAAW,CAAC7B,EAAIU,GAAG,oBAAoB,IAAI,GAAGN,EAAG,cAAcA,EAAG,KAAK,CAACJ,EAAIU,GAAG,aAAaN,EAAG,IAAI,CAACJ,EAAIU,GAAG,6BAA6BN,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,YAAY,CAACE,YAAY,kBAAkBa,MAAM,CAAC,KAAO,WAAWZ,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAI8B,qBAAsB,KAAQ,CAAC9B,EAAIU,GAAG,qBAAqB,IAAI,IAAI,GAAGN,EAAG,YAAY,CAACe,MAAM,CAAC,MAAQ,iBAAiB,QAAUnB,EAAI8B,qBAAqBvB,GAAG,CAAC,iBAAiB,SAASC,GAAQR,EAAI8B,oBAAoBtB,KAAU,CAACJ,EAAG,IAAI,CAACJ,EAAIU,GAAG,mDAAmDN,EAAG,OAAO,CAACE,YAAY,gBAAgBa,MAAM,CAAC,KAAO,UAAUY,KAAK,UAAU,CAAC3B,EAAG,YAAY,CAACG,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAI8B,qBAAsB,KAAS,CAAC9B,EAAIU,GAAG,YAAYN,EAAG,YAAY,CAACe,MAAM,CAAC,KAAO,WAAWZ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIgC,mBAAmB,CAAChC,EAAIU,GAAG,cAAc,MAAM,IACrnEE,EAAkB,G,wBCuCtB,GACEqB,WAAY,CACVC,OAAJ,QAEEC,KAJF,WAIA,WACQC,EAAe,SAAvB,OACoB,KAAVZ,EACFC,EAAS,IAAIY,MAAM,oCAC3B,2BACQZ,EAAS,IAAIY,MAAM,iCAEnBZ,KAGJ,MAAO,CACLa,KAAM,CACJ7C,MAAO,IAET4B,SAAU,CACRzB,YAAa,GACb2C,kBAAmB,IAErBT,qBAAqB,EACrB1C,MAAO,CACLQ,YAAa,EAArB,iBACQ2C,kBAAmB,CAC3B,CAAU,UAAV,EAAU,QAAV,YAKExB,QAAS,CACPiB,cADJ,WACA,WACM/B,KAAKuC,OAAOC,SAAS,iBAAiBC,MAAK,WACzC,EAAR,gCACA,mBACQC,QAAQC,IAAIC,GACZ,EAAR,+DAGIhB,eATJ,SASA,cACM5B,KAAK6C,MAAMR,GAAMS,UAAS,SAAhC,GAEQ,GADAJ,QAAQC,IAAII,IACRA,EASF,OAAO,EARP,EAAV,+DACYL,QAAQC,IAAI,QACZ,EAAZ,uFACA,mBACYD,QAAQC,IAAIC,GACZ,EAAZ,oECzFkV,I,YCO9U3B,EAAY,eACd,EACAnB,EACAa,GACA,EACA,KACA,KACA,MAIa,aAAAM,E","file":"js/about.9b08e73b.js","sourcesContent":["var rules = {\r\n  name: [\r\n    { required: true, message: 'Name required', trigger: 'blur' }\r\n  ],\r\n  email: [\r\n    { required: true, message: 'Email required', trigger: 'blur' },\r\n    { type: 'email', message: 'Invalid email address', trigger: ['blur', 'change'] }\r\n  ],\r\n  password: [\r\n    { required: true, message: 'Password required', trigger: 'blur' }\r\n  ],\r\n  newPassword: [\r\n    { required: true, message: 'Password required', trigger: 'blur' },\r\n    { min: 6, message: 'Password should be at least 6 characters', trigger: 'blur' }\r\n  ],\r\n  company: [\r\n    { required: true, message: 'Company name required', trigger: 'blur' }\r\n  ],\r\n  required: [\r\n    { required: true, message: 'This field is required', trigger: 'blur' }\r\n  ]\r\n}\r\n\r\nexport { rules }\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('el-button',{staticClass:\"topbar-button hidden-sm-and-up\",on:{\"click\":function($event){return _vm.changeDrawer()}}},[_c('i',{staticClass:\"el-icon-s-fold\"})]),_c('h2',[_vm._v(_vm._s(_vm.name))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"title\">\r\n    <el-button @click=\"changeDrawer()\" class=\"topbar-button hidden-sm-and-up\">\r\n      <i class=\"el-icon-s-fold\" ></i>\r\n    </el-button>\r\n    <h2>{{ name }}</h2>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    name: {\r\n      type: String\r\n    }\r\n  },\r\n  methods: {\r\n    changeDrawer () {\r\n      this.$root.$emit('update-drawer')\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopBar.vue?vue&type=template&id=e797c40c&\"\nimport script from \"./TopBar.vue?vue&type=script&lang=js&\"\nexport * from \"./TopBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('TopBar',{attrs:{\"name\":\"Settings\"}}),_c('div',{staticClass:\"justify-center inner-row\"},[_c('el-col',{staticClass:\"settings-col\",attrs:{\"xs\":22,\"sm\":18,\"md\":12,\"lg\":8}},[_c('h4',[_vm._v(\"Security\")]),_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.security},on:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"prop\":\"newPassword\"}},[_c('el-input',{staticClass:\"padding-small\",attrs:{\"placeholder\":\"New password\",\"type\":\"password\",\"name\":\"newPassword\"},model:{value:(_vm.security.newPassword),callback:function ($$v) {_vm.$set(_vm.security, \"newPassword\", $$v)},expression:\"security.newPassword\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"newPasswordRepeat\"}},[_c('el-input',{staticClass:\"padding-small\",attrs:{\"placeholder\":\"Repeat New password\",\"type\":\"password\",\"name\":\"newPasswordRepeat\"},model:{value:(_vm.security.newPasswordRepeat),callback:function ($$v) {_vm.$set(_vm.security, \"newPasswordRepeat\", $$v)},expression:\"security.newPasswordRepeat\"}})],1),_c('div',{staticClass:\"button-container\"},[_c('el-button',{staticClass:\"settings-button\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.changePassword('form')}}},[_vm._v(\"Save password\")])],1)],1),_c('el-divider'),_c('h4',[_vm._v(\"Account\")]),_c('p',[_vm._v(\"Delete onliance account\")]),_c('div',{staticClass:\"button-container\"},[_c('el-button',{staticClass:\"settings-button\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.deleteAccountDialog = true}}},[_vm._v(\"Delete account\")])],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"Delete Account\",\"visible\":_vm.deleteAccountDialog},on:{\"update:visible\":function($event){_vm.deleteAccountDialog=$event}}},[_c('p',[_vm._v(\"Are you sure you want to delete your account?\")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.deleteAccountDialog = false}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.deleteAccount()}}},[_vm._v(\"Confirm\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-row>\r\n      <TopBar name=\"Settings\" />\r\n      <div class=\"justify-center inner-row\">\r\n        <el-col class=\"settings-col\" :xs=\"22\" :sm=\"18\" :md=\"12\" :lg=\"8\">\r\n          <h4>Security</h4>\r\n          <el-form @submit.prevent :rules=\"rules\" ref=\"form\" :model=\"security\">\r\n            <!-- <el-form-item prop=\"oldPassword\">\r\n              <el-input class=\"padding-small\" placeholder=\"Old password\" type=\"password\" v-model=\"security.oldPassword\" name=\"oldPassword\"></el-input>\r\n            </el-form-item> -->\r\n            <el-form-item prop=\"newPassword\">\r\n              <el-input class=\"padding-small\" placeholder=\"New password\" type=\"password\" v-model=\"security.newPassword\" name=\"newPassword\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"newPasswordRepeat\">\r\n              <el-input class=\"padding-small\" placeholder=\"Repeat New password\" type=\"password\" v-model=\"security.newPasswordRepeat\" name=\"newPasswordRepeat\"></el-input>\r\n            </el-form-item>\r\n            <div class=\"button-container\">\r\n              <el-button @click=\"changePassword('form')\" class=\"settings-button\" type=\"primary\">Save password</el-button>\r\n            </div>\r\n          </el-form>\r\n          <el-divider></el-divider>\r\n          <h4>Account</h4>\r\n          <p>Delete onliance account</p>\r\n          <div class=\"button-container\">\r\n            <el-button @click=\"deleteAccountDialog = true\" class=\"settings-button\" type=\"primary\" >Delete account</el-button>\r\n          </div>\r\n        </el-col>\r\n      </div>\r\n      <el-dialog title=\"Delete Account\" :visible.sync=\"deleteAccountDialog\">\r\n        <p>Are you sure you want to delete your account?</p>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"deleteAccountDialog = false\">Cancel</el-button>\r\n          <el-button type=\"primary\" @click=\"deleteAccount()\">Confirm</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </el-row>\r\n</template>\r\n<script>\r\nimport TopBar from '../components/TopBar'\r\nimport { rules } from '@/config/validation.js'\r\nexport default {\r\n  components: {\r\n    TopBar\r\n  },\r\n  data () {\r\n    var validatePass = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('Please input the password again'))\r\n      } else if (value !== this.security.newPassword) {\r\n        callback(new Error('Password inputs don\\'t match!'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      form: {\r\n        email: ''\r\n      },\r\n      security: {\r\n        newPassword: '',\r\n        newPasswordRepeat: ''\r\n      },\r\n      deleteAccountDialog: false,\r\n      rules: {\r\n        newPassword: rules.newPassword,\r\n        newPasswordRepeat: [\r\n          { validator: validatePass, trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    deleteAccount () {\r\n      this.$store.dispatch('deleteAccount').then(() =>{\r\n        this.$router.push({ name: 'login' })\r\n      }).catch(err => {\r\n        console.log(err)\r\n        this.$root.$emit('create-alert', { title: err.message, type: 'error'})\r\n      })\r\n    },\r\n    changePassword (form) {\r\n      this.$refs[form].validate((valid) => {\r\n        console.log(valid)\r\n        if (valid) {\r\n          this.$store.dispatch('changePassword', this.security).then(res => {\r\n            console.log(\"done\")\r\n            this.$root.$emit('create-alert', { title: 'Password successfully changed!', type: 'success'})\r\n          }).catch(err => {\r\n            console.log(err)\r\n            this.$root.$emit('create-alert', { title: err.message, type: 'error'})\r\n          })\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=552d6caa&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}